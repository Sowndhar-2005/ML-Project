# ğŸ” Algospeak-Resilient Semantic Detection of Illicit Drug Content Using TF-IDF and Real-Time Browser Extension Architecture

An NLP-based machine learning system that analyzes text messages and classifies them as **Drug Trafficking (Illicit)** or **Safe (Normal)** using Natural Language Processing and Naive Bayes classification. Includes **emoji-coded message detection** â€” identifying drug emojis like ğŸƒğŸ’Šâ„ï¸ğŸ„ğŸ’‰ used as code on social media.

---

## ğŸ“Œ About the Project

This project detects potential drug trafficking activity from plain text â€” such as social media posts, chat messages, or online listings. It uses a **Multinomial Naive Bayes** classifier trained on text data to identify suspicious language patterns commonly associated with illegal drug trade.

> **ğŸ†• Emoji Detection:** The model now recognizes emoji-coded drug messages â€” a common real-world tactic where dealers use emojis like ğŸƒ (marijuana), ğŸ’Š (pills), â„ï¸ (cocaine), ğŸ„ (mushrooms), and ğŸ”Œ (dealer/plug) to evade text-based filters.

### How It Works

```
User Input Text â†’ Lowercase Preprocessing â†’ Bag of Words Vectorization â†’ Naive Bayes Classifier â†’ Prediction (Yes/No)
```

1. **Text Preprocessing** â€” Converts input text to lowercase for uniformity.
2. **Feature Extraction** â€” Uses `CountVectorizer` (Bag of Words) to convert text into numerical feature vectors.
3. **Emoji Recognition** â€” Detects drug-code emojis (ğŸƒğŸ’Šâ„ï¸ğŸ„ğŸ’‰ğŸ”ŒğŸ”¥) as features alongside regular text.
4. **Classification** â€” A trained `MultinomialNB` model predicts whether the text is drug-related or safe.
5. **Output** â€” Returns the prediction (Yes/No) along with a confidence percentage.

### Labels

| Label | Category             | Description                                    |
|-------|----------------------|------------------------------------------------|
| **1** | Drug Trafficking     | Text contains drug dealing/trafficking language |
| **0** | Safe / Normal        | Everyday, non-illicit text                     |

---

## ğŸ“ Project Structure

```
Ml-Project/
â”‚
â”œâ”€â”€ setup_dataset.py    â†’ Generates synthetic training dataset
â”œâ”€â”€ train_model.py      â†’ Trains the ML model and evaluates accuracy
â”œâ”€â”€ app.py              â†’ Interactive CLI app to test predictions
â”‚
â”œâ”€â”€ dataset.csv         â†’ Dataset with text, emoji, and labels (600 rows)
â”œâ”€â”€ text_model.pkl      â†’ Saved trained Naive Bayes model
â”œâ”€â”€ vectorizer.pkl      â†’ Saved fitted CountVectorizer
â”‚
â””â”€â”€ Readme.md           â†’ Project documentation
```

### File Descriptions

| File               | Purpose                                                              |
|--------------------|----------------------------------------------------------------------|
| `setup_dataset.py` | Creates a synthetic `dataset.csv` with labeled text samples          |
| `train_model.py`   | Loads the dataset, trains the model, prints accuracy, saves `.pkl`   |
| `app.py`           | Loads saved model and lets you type text to get real-time predictions |
| `dataset.csv`      | Training data â€” 300 drug-related + 300 safe text samples (incl. emoji) |
| `text_model.pkl`   | Serialized trained model (auto-generated by `train_model.py`)        |
| `vectorizer.pkl`   | Serialized vectorizer (auto-generated by `train_model.py`)           |

---

## ğŸš€ How to Run

### Prerequisites

- Python 3.8 or higher
- pip (Python package manager)

### Step 1: Install Dependencies

```bash
pip install pandas scikit-learn
```

### Step 2: Generate the Dataset

```bash
python setup_dataset.py
```

**Output:**
```
Dataset created: dataset.csv  (500 rows)
```

This creates the base `dataset.csv`. The file also contains 100 additional emoji-based entries (50 drug + 50 safe) for a total of **600 rows**.

### Step 3: Train the Model

```bash
python train_model.py
```

**Output:**
```
Loaded dataset: 600 rows, 2 columns

Split â†’ Train: 480  |  Test: 120

==================================================
  Accuracy: 98.33%
==================================================

Classification Report:

                      precision    recall  f1-score   support

            Safe (0)       1.00      0.97      0.98        60
Drug Trafficking (1)       0.97      1.00      0.98        60

            accuracy                           0.98       120
           macro avg       0.98      0.98      0.98       120
        weighted avg       0.98      0.98      0.98       120

Model saved      â†’ text_model.pkl
Vectorizer saved  â†’ vectorizer.pkl
```

### Step 4: Test with Interactive App

```bash
python app.py
```

**Example Session:**
```
============================================================
   Text-Based Drug Trafficking Detection System
============================================================
Model loaded successfully!

------------------------------------------------------------
Enter text to analyze (or 'quit' to exit):
>> selling premium powder, fast delivery guaranteed

   Input      : selling premium powder, fast delivery guaranteed
   Confidence : 99.87%
   Result     : YES â€” Drug Trafficking Detected
   Status     : ILLICIT â€” Flagged as drug-related.

------------------------------------------------------------
Enter text to analyze (or 'quit' to exit):
>> looking for study partners for math exam next week

   Input      : looking for study partners for math exam next week
   Confidence : 99.92%
   Result     : NO â€” Safe Text
   Status     : SAFE â€” This text appears normal.
```

---

## ğŸ›  Tech Stack

| Component        | Technology                          |
|------------------|-------------------------------------|
| Language         | Python 3                            |
| ML Algorithm     | Multinomial Naive Bayes             |
| Text Vectorizer  | CountVectorizer (Bag of Words)      |
| Train/Test Split | 80% Training / 20% Testing          |
| Dataset          | Synthetic (600 rows, text + emoji)   |
| Libraries        | scikit-learn, pandas                 |
| Serialization    | pickle (.pkl files)                  |

---

## ğŸ“Š Model Performance

| Metric              | Score    |
|----------------------|----------|
| **Accuracy**         | 98.33%   |
| **Precision (Safe)** | 1.00     |
| **Recall (Safe)**    | 0.97     |
| **Precision (Drug)** | 0.97     |
| **Recall (Drug)**    | 1.00     |
| **F1-Score**         | 0.98     |

---

## ğŸ“ Dataset Sample

### Drug Trafficking â€” Text (label = 1)
| Text |
|------|
| Got powder available for pickup, DM for prices |
| Need crystal ASAP, anyone near downtown can deliver? |
| Moving pills across the border this weekend |
| Fresh batch of white just arrived, hit me up |

### Drug Trafficking â€” Emoji-Coded (label = 1)
| Text |
|------|
| Got that ğŸƒğŸƒğŸƒ ready, DM me for prices |
| ğŸ”Œ got the best â„ï¸ in town, hit me up |
| Fresh ğŸ’ŠğŸ’Š just landed, first come first served |
| ğŸ”¥ğŸ”¥ğŸ”¥ quality â„ï¸ available, fast delivery âš¡ |
| Who got the ğŸ„ğŸ„? Need a plug ASAP ğŸ”Œ |

### Safe / Normal (label = 0)
| Text |
|------|
| Just finished reading a great textbook about history |
| Had an amazing pizza at the new cafe downtown |
| Looking for study partners for math exam next week |
| Going to the park this weekend with family |
| Had an amazing day at the park ğŸŒ³â˜€ï¸ğŸ˜Š |
| Happy birthday to my best friend ğŸ‚ğŸ‰ğŸˆ |
| Beautiful sunset at the beach today ğŸŒ…ğŸ–ï¸ğŸ˜ |

### ğŸ”¤ Emoji Code Reference

Common emojis used as drug codes on social media:

| Emoji | Drug Code Meaning |
|-------|-------------------|
| ğŸƒğŸŒ¿ | Marijuana / Weed |
| â„ï¸ | Cocaine |
| ğŸ’Š | Pills / MDMA / Xanax |
| ğŸ„ | Mushrooms / Psychedelics |
| ğŸ’‰ | Heroin / Injectables |
| ğŸ”Œ | Plug / Dealer |
| ğŸ“¦ | Package / Shipment |
| ğŸ’°ğŸ’µ | Money / Payment |
| ğŸ”¥ | High Quality |
| âš¡ | Fast Delivery |
| ğŸ¤« | Secrecy / Discreet |

---

## âš™ï¸ Quick Start (All Commands)

```bash
# 1. Install dependencies
pip install pandas scikit-learn

# 2. Generate dataset
python setup_dataset.py

# 3. Train the model
python train_model.py

# 4. Run the interactive app
python app.py
```